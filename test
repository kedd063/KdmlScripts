local Players = game:GetService("Players")
local player = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local ClipboardService = game:GetService("Clipboard") -- Roblox’ta yok ama bazı executorlar destekliyor

local correctKey = "Kdml2025"
local keyLink = "https://direct-link.net/1030745/yRmNiYKpg3bi"

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "Kdml Hub"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local keyFrame = Instance.new("Frame")
keyFrame.Size = UDim2.new(1,0,1,0)
keyFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
keyFrame.Parent = screenGui

local keyTitle = Instance.new("TextLabel")
keyTitle.Size = UDim2.new(1, 0, 0, 60)
keyTitle.Position = UDim2.new(0, 0, 0, 100)
keyTitle.BackgroundTransparency = 1
keyTitle.Text = "Please Enter Your Key"
keyTitle.Font = Enum.Font.GothamBold
keyTitle.TextSize = 32
keyTitle.TextColor3 = Color3.fromRGB(255,255,255)
keyTitle.Parent = keyFrame

local keyBox = Instance.new("TextBox")
keyBox.Size = UDim2.new(0, 300, 0, 40)
keyBox.Position = UDim2.new(0.5, -150, 0, 170)
keyBox.ClearTextOnFocus = false
keyBox.PlaceholderText = "Key"
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 24
keyBox.TextColor3 = Color3.fromRGB(0,0,0)
keyBox.BackgroundColor3 = Color3.fromRGB(255,255,255)
keyBox.Parent = keyFrame
keyBox.Text = ""

local submitButton = Instance.new("TextButton")
submitButton.Size = UDim2.new(0, 120, 0, 40)
submitButton.Position = UDim2.new(0.5, -130, 0, 230)
submitButton.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
submitButton.TextColor3 = Color3.fromRGB(255,255,255)
submitButton.Text = "Submit"
submitButton.Font = Enum.Font.GothamBold
submitButton.TextSize = 22
submitButton.Parent = keyFrame

local receiveKeyButton = Instance.new("TextButton")
receiveKeyButton.Size = UDim2.new(0, 120, 0, 40)
receiveKeyButton.Position = UDim2.new(0.5, 10, 0, 230)
receiveKeyButton.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
receiveKeyButton.TextColor3 = Color3.fromRGB(255,255,255)
receiveKeyButton.Text = "Receive Key"
receiveKeyButton.Font = Enum.Font.GothamBold
receiveKeyButton.TextSize = 22
receiveKeyButton.Parent = keyFrame

local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(1, 0, 0, 30)
infoLabel.Position = UDim2.new(0, 0, 0, 280)
infoLabel.BackgroundTransparency = 1
infoLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
infoLabel.Text = ""
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextSize = 20
infoLabel.Parent = keyFrame

local logoButton = Instance.new("ImageButton")
logoButton.Size = UDim2.new(0, 60, 0, 60)
logoButton.Position = UDim2.new(1, -70, 1, -70)
logoButton.AnchorPoint = Vector2.new(1, 1)
logoButton.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
logoButton.BorderSizePixel = 0
logoButton.Image = "rbxassetid://104833147631294"
logoButton.Parent = screenGui
logoButton.Visible = false

local logoCorner = Instance.new("UICorner")
logoCorner.CornerRadius = UDim.new(1, 0)
logoCorner.Parent = logoButton

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 320, 0, 250)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -125)
mainFrame.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
mainFrame.Visible = false
mainFrame.Parent = screenGui
mainFrame.Active = true

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(128, 0, 128)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
}
gradient.Rotation = 45
gradient.Parent = mainFrame

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Kdml Hub"
title.Font = Enum.Font.GothamBold
title.TextSize = 28
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Parent = mainFrame
title.TextStrokeTransparency = 0.3

local buttons = {
    {
        name = "Steal a Brainrot Script 1",
        callback = function()
            loadstring(game:HttpGet('https://pastefy.app/cjXdhdB7/raw'))()
        end
    },
    {
        name = "Steal a Brainrot Script 2",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/bananaGanteng/Legend/refs/heads/main/Steal%20a%20Brainrot"))()
        end
    },
    {
        name = "Kdml Scripts Steal a Brainrot Script",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/kedd063/KdmlScripts/refs/heads/main/mine-sab"))()
        end
    },
    {
        name = "99 Nights İn The Forest",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        end
    }
}

local function createButton(info, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.9, 0, 0, 45)
    button.Position = UDim2.new(0.05, 0, 0, 50 + (index - 1) * 60)
    button.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 20
    button.Text = info.name
    button.Parent = mainFrame
    button.BorderSizePixel = 0

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = button

    button.MouseEnter:Connect(function()
        button:TweenSize(UDim2.new(0.92, 0, 0, 48), "Out", "Quad", 0.2, true)
        button.BackgroundColor3 = Color3.fromRGB(115, 50, 180)
    end)
    button.MouseLeave:Connect(function()
        button:TweenSize(UDim2.new(0.9, 0, 0, 45), "Out", "Quad", 0.2, true)
        button.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
    end)

    button.MouseButton1Click:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(200, 150, 255)
        task.wait(0.1)
        button.BackgroundColor3 = Color3.fromRGB(115, 50, 180)
        info.callback()
    end)
end

for i, info in ipairs(buttons) do
    createButton(info, i)
end

logoButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

local dragging, dragInput, dragStart, startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

local function checkKey()
    local enteredKey = keyBox.Text
    if enteredKey == correctKey then
        keyFrame:Destroy()
        logoButton.Visible = true
    else
        infoLabel.Text = "Wrong key! Please try again."
        keyBox.Text = ""
    end
end

submitButton.MouseButton1Click:Connect(checkKey)
keyBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        checkKey()
    end
end)

receiveKeyButton.MouseButton1Click:Connect(function()
    if pcall(function() ClipboardService:SetClipboard(keyLink) end) then
        infoLabel.Text = "Key link copied to clipboard!"
    else
        infoLabel.Text = "Failed to copy. Please copy manually:\n" .. keyLink
    end
end)
