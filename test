-- ⚡ Kdml Scripts - MATERIAL UI Versiyonu
local Material = loadstring(game:HttpGet("https://raw.githubusercontent.com/Kinlei/MaterialLua/master/Module.lua"))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

local UI = Material.Load({
    Title = "Kdml Scripts | .gg/vsaKFZgYVD",
    Style = 1,
    SizeX = 400,
    SizeY = 300,
    Theme = "Dark",
})

local MainTab = UI.New({ Title = "Main" })
local VisualTab = UI.New({ Title = "Visual" })
local MiscTab = UI.New({ Title = "Misc" })
local OtherTab = UI.New({ Title = "Other" })

-- Main Tab Buttons
MainTab.Button({
    Text = "Free Cam",
    Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/GhostPlayer352/Test4/main/Freecam'))()
    end
})

MainTab.Button({
    Text = "Speed Boost",
    Callback = function()
        local boostedSpeed = 48
        local function applySpeed()
            local char = player.Character or player.CharacterAdded:Wait()
            char:WaitForChild("Humanoid").WalkSpeed = boostedSpeed
        end
        applySpeed()
        player.CharacterAdded:Connect(function()
            task.wait(0.1)
            applySpeed()
        end)
    end
})

MainTab.Button({
    Text = "Jump Boost",
    Callback = function()
        local char = player.Character or player.CharacterAdded:Wait()
        local humanoid = char:WaitForChild("Humanoid")
        humanoid.Jumping:Connect(function(active)
            if active then
                local root = char:WaitForChild("HumanoidRootPart")
                root.CFrame = root.CFrame + Vector3.new(0,55,0)
            end
        end)
    end
})

MainTab.Button({
    Text = "TP To Cords",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/kedd063/KdmlScripts/refs/heads/main/tp-to-cordinats"))()
    end
})

MainTab.Button({
    Text = "TP To Cords V2",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/kedd063/KdmlScripts/refs/heads/main/tp-to-cordinats-2"))()
    end
})

-- Visual Bölümü
VisualTab.Toggle({ Text = "ESP Players", Enabled = false, Callback = function(Value)
    local espEnabled = Value
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character then
            local head = plr.Character:FindFirstChild("Head")
            if espEnabled then
                if head and not head:FindFirstChild("ESP_NameTag") then
                    local billboard = Instance.new("BillboardGui")
                    billboard.Name = "ESP_NameTag"
                    billboard.Adornee = head
                    billboard.Size = UDim2.new(0, 100, 0, 30)
                    billboard.StudsOffset = Vector3.new(0, 2, 0)
                    billboard.AlwaysOnTop = true
                    billboard.Parent = head

                    local label = Instance.new("TextLabel")
                    label.BackgroundTransparency = 1
                    label.Size = UDim2.new(1, 0, 1, 0)
                    label.TextColor3 = Color3.fromRGB(255, 255, 255)
                    label.TextStrokeTransparency = 0
                    label.Font = Enum.Font.GothamBold
                    label.TextScaled = true
                    label.Text = plr.Name
                    label.Parent = billboard
                end
                if not plr.Character:FindFirstChild("ESP_Highlight") then
                    local highlight = Instance.new("Highlight")
                    highlight.Name = "ESP_Highlight"
                    highlight.Adornee = plr.Character
                    highlight.FillColor = Color3.fromRGB(170, 0, 255)
                    highlight.FillTransparency = 0.5
                    highlight.OutlineTransparency = 0.7
                    highlight.Parent = plr.Character
                end
            else
                if head and head:FindFirstChild("ESP_NameTag") then head.ESP_NameTag:Destroy() end
                if plr.Character:FindFirstChild("ESP_Highlight") then plr.Character.ESP_Highlight:Destroy() end
            end
        end
    end
end })

local secretBrainrotsConnection
VisualTab.Toggle({ Text = "Secret Brainrots ESP", Enabled = false, Callback = function(Value)
    if Value then
        secretBrainrotsConnection = RunService.RenderStepped:Connect(function()
            for _, model in pairs(workspace:GetChildren()) do
                if table.find({
                    "Chimpanzini Spiderini", "Los Tralaleritos", "La Vacca Saturno Saturnita",
                    "Torrtuginni Dragonfruitini", "Graipuss Medussi", "La Grande Combinasion",
                    "Garamam and Madundung", "Las Tralaleritas"
                }, model.Name) then
                    local head = model:FindFirstChild("Head") or model:FindFirstChildWhichIsA("BasePart")
                    if head and not head:FindFirstChild("ESPBox") then
                        local box = Instance.new("BoxHandleAdornment")
                        box.Name = "ESPBox"
                        box.Adornee = head
                        box.Size = head.Size * Vector3.new(1.1, 1.3, 1.1)
                        box.Color3 = Color3.fromRGB(0,255,0)
                        box.AlwaysOnTop = true
                        box.Transparency = 0.5
                        box.Parent = head
                    end
                    if head and not head:FindFirstChild("BillboardGui") then
                        local billboard = Instance.new("BillboardGui")
                        billboard.Size = UDim2.new(0, 200, 0, 60)
                        billboard.Adornee = head
                        billboard.AlwaysOnTop = true
                        billboard.Parent = head
                        local label = Instance.new("TextLabel")
                        label.Size = UDim2.new(1,0,1,0)
                        label.BackgroundTransparency = 1
                        label.Text = model.Name
                        label.TextColor3 = Color3.fromRGB(0,255,0)
                        label.TextStrokeTransparency = 0
                        label.TextScaled = true
                        label.Font = Enum.Font.SourceSansBold
                        label.Parent = billboard
                    end
                end
            end
        end)
    else
        if secretBrainrotsConnection then secretBrainrotsConnection:Disconnect() end
        for _, model in pairs(workspace:GetChildren()) do
            local head = model:FindFirstChild("Head") or model:FindFirstChildWhichIsA("BasePart")
            if head then
                for _, child in pairs(head:GetChildren()) do
                    if child:IsA("BillboardGui") or child:IsA("BoxHandleAdornment") then child:Destroy() end
                end
            end
        end
    end
end })

local godBrainrotsConnection
VisualTab.Toggle({ Text = "Brainrot God ESP", Enabled = false, Callback = function(Value)
    if Value then
        godBrainrotsConnection = RunService.RenderStepped:Connect(function()
            for _, model in pairs(workspace:GetChildren()) do
                if table.find({
                    "Tralalero Tralala", "Cocofanto Elefanto", "Matteo",
                    "Odin Din Din Dun", "Girafa Celestre", "Orcalero Orcala",
                    "Trenostruzzo Turbo 3000", "Tigroligre Frutonni",
                    "Statutino Libertino", "Gattatino Nyanino"
                }, model.Name) then
                    local head = model:FindFirstChild("Head") or model:FindFirstChildWhichIsA("BasePart")
                    if head and not head:FindFirstChild("ESPBox") then
                        local box = Instance.new("BoxHandleAdornment")
                        box.Name = "ESPBox"
                        box.Adornee = head
                        box.Size = head.Size * Vector3.new(1.1, 1.3, 1.1)
                        box.Color3 = Color3.fromRGB(255,0,0)
                        box.AlwaysOnTop = true
                        box.Transparency = 0.5
                        box.Parent = head
                    end
                    if head and not head:FindFirstChild("BillboardGui") then
                        local billboard = Instance.new("BillboardGui")
                        billboard.Size = UDim2.new(0, 200, 0, 60)
                        billboard.Adornee = head
                        billboard.AlwaysOnTop = true
                        billboard.Parent = head
                        local label = Instance.new("TextLabel")
                        label.Size = UDim2.new(1,0,1,0)
                        label.BackgroundTransparency = 1
                        label.Text = model.Name
                        label.TextColor3 = Color3.fromRGB(255,0,0)
                        label.TextStrokeTransparency = 0
                        label.TextScaled = true
                        label.Font = Enum.Font.SourceSansBold
                        label.Parent = billboard
                    end
                end
            end
        end)
    else
        if godBrainrotsConnection then godBrainrotsConnection:Disconnect() end
        for _, model in pairs(workspace:GetChildren()) do
            local head = model:FindFirstChild("Head") or model:FindFirstChildWhichIsA("BasePart")
            if head then
                for _, child in pairs(head:GetChildren()) do
                    if child:IsA("BillboardGui") or child:IsA("BoxHandleAdornment") then child:Destroy() end
                end
            end
        end
    end
end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy Medusa's Head",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("Medusa's Head")
    end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy İnvisible Cloak",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("İnvisible Cloak")
    end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy Body Swap Potion",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("Body Swap Potion")
    end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy Trap",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("Trap")
    end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy All Seeing Sentry",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("All Seeing Sentry")
    end
})

-- Misc Tab Button
MiscTab.Button({
    Text = "Buy Rainbow Sword",
    Callback = function()
        local net = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RF/CoinsShopService/RequestBuy")
        net:InvokeServer("Rainbow Sword")
    end
})

-- Other Bölümü
OtherTab.Toggle({
    Text = "Auto Candy Spin Wheel",
    Callback = function(val)
        if val then
            task.spawn(function()
                while val do
                    ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Net"):WaitForChild("RE/CandyEventService/Spin"):FireServer()
                    task.wait(1)
                end
            end)
        end
    end,
    Enabled = false
})
OtherTab.Button({
    Text = "Server Hop",
    Callback = function()
        local PlaceId = game.PlaceId
        local JobId = game.JobId
        local servers = HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..PlaceId.."/servers/Public?sortOrder=Asc&limit=100"))
        for _, s in pairs(servers.data) do
            if s.id ~= JobId and s.playing < s.maxPlayers then
                TeleportService:TeleportToPlaceInstance(PlaceId, s.id, player)
                break
            end
        end
    end
})
})
OtherPage.Toggle({
    Text = "FPS Boost",
    Callback = function(state) print("[TEST] FPS Boost:", state) end
})

-- UI'yi başlat
UI:Init()
