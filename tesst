local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer

local correctKey = "kdml123"  -- Buraya istediğin key'i yazabilirsin

-- Ana GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "Kdml Hub"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Key giriş Frame (ilk açılışta gösterilecek)
local keyFrame = Instance.new("Frame")
keyFrame.Size = UDim2.new(0, 300, 0, 150)
keyFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
keyFrame.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
keyFrame.Parent = screenGui
keyFrame.Active = true

local keyCorner = Instance.new("UICorner")
keyCorner.CornerRadius = UDim.new(0, 12)
keyCorner.Parent = keyFrame

local keyTitle = Instance.new("TextLabel")
keyTitle.Size = UDim2.new(1, 0, 0, 40)
keyTitle.Position = UDim2.new(0, 0, 0, 0)
keyTitle.BackgroundTransparency = 1
keyTitle.Text = "Enter Key to Access"
keyTitle.Font = Enum.Font.GothamBold
keyTitle.TextSize = 24
keyTitle.TextColor3 = Color3.new(1, 1, 1)
keyTitle.Parent = keyFrame

local keyBox = Instance.new("TextBox")
keyBox.Size = UDim2.new(0.8, 0, 0, 40)
keyBox.Position = UDim2.new(0.1, 0, 0, 60)
keyBox.ClearTextOnFocus = false
keyBox.PlaceholderText = "Enter key here..."
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 20
keyBox.TextColor3 = Color3.new(0, 0, 0)
keyBox.Parent = keyFrame

local submitButton = Instance.new("TextButton")
submitButton.Size = UDim2.new(0.5, 0, 0, 35)
submitButton.Position = UDim2.new(0.25, 0, 0, 110)
submitButton.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
submitButton.TextColor3 = Color3.new(1, 1, 1)
submitButton.Font = Enum.Font.GothamBold
submitButton.TextSize = 22
submitButton.Text = "Submit"
submitButton.Parent = keyFrame

local function showMessage(msg)
    local msgLabel = Instance.new("TextLabel")
    msgLabel.Size = UDim2.new(1, 0, 0, 30)
    msgLabel.Position = UDim2.new(0, 0, 0, 150)
    msgLabel.BackgroundTransparency = 1
    msgLabel.Text = msg
    msgLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    msgLabel.Font = Enum.Font.GothamBold
    msgLabel.TextSize = 18
    msgLabel.Parent = keyFrame
    task.delay(2, function()
        msgLabel:Destroy()
    end)
end

submitButton.MouseButton1Click:Connect(function()
    if keyBox.Text == correctKey then
        -- Doğru key, GUI açılır
        keyFrame:Destroy()
        mainFrame.Visible = false -- Menü başta kapalı kalsın
        logoButton.Visible = true
    else
        showMessage("Incorrect key! Try again.")
        keyBox.Text = ""
    end
end)

-- Logo Buton (Sağ alt köşede, yuvarlak) (Başta gizli)
local logoButton = Instance.new("ImageButton")
logoButton.Size = UDim2.new(0, 60, 0, 60)
logoButton.Position = UDim2.new(1, -70, 1, -70) -- sağ alt köşe biraz içerden
logoButton.AnchorPoint = Vector2.new(1, 1) -- sağ alt köşeye sabit
logoButton.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
logoButton.Image = "rbxassetid://104833147631294"
logoButton.Parent = screenGui
logoButton.BorderSizePixel = 0
logoButton.Visible = false

local logoCorner = Instance.new("UICorner")
logoCorner.CornerRadius = UDim.new(1, 0) -- tamamen yuvarlak
logoCorner.Parent = logoButton

-- Menü Frame (Başlangıçta gizli)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 320, 0, 250)
mainFrame.Position = UDim2.new(1, -330, 1, -330) -- sağ alt, logo üstünde açılır
mainFrame.AnchorPoint = Vector2.new(0, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(128, 0, 128)
mainFrame.Visible = false
mainFrame.Parent = screenGui
mainFrame.Active = true

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(128, 0, 128)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
}
gradient.Rotation = 45
gradient.Parent = mainFrame

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Kdml Hub"
title.Font = Enum.Font.GothamBold
title.TextSize = 28
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Parent = mainFrame
title.TextStrokeTransparency = 0.3

-- Buton verileri
local buttons = {
    {
        name = "Steal a Brainrot Script 1",
        callback = function()
            loadstring(game:HttpGet('https://pastefy.app/cjXdhdB7/raw'))()
        end
    },
    {
        name = "Steal a Brainrot Script 2",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/bananaGanteng/Legend/refs/heads/main/Steal%20a%20Brainrot"))()
        end
    },
    {
        name = "Kdml Scripts Steal a Brainrot Script",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/kedd063/KdmlScripts/refs/heads/main/mine-sab"))()
        end
    },
    {
        name = "99 Nights İn The Forest",
        callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
        end
    }
}

local function createButton(info, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.9, 0, 0, 45)
    button.Position = UDim2.new(0.05, 0, 0, 50 + (index - 1) * 60)
    button.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 20
    button.Text = info.name
    button.Parent = mainFrame
    button.BorderSizePixel = 0

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 10)
    corner.Parent = button

    button.MouseEnter:Connect(function()
        button:TweenSize(UDim2.new(0.92, 0, 0, 48), "Out", "Quad", 0.2, true)
        button.BackgroundColor3 = Color3.fromRGB(115, 50, 180)
    end)
    button.MouseLeave:Connect(function()
        button:TweenSize(UDim2.new(0.9, 0, 0, 45), "Out", "Quad", 0.2, true)
        button.BackgroundColor3 = Color3.fromRGB(75, 0, 130)
    end)

    button.MouseButton1Click:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(200, 150, 255)
        task.wait(0.1)
        button.BackgroundColor3 = Color3.fromRGB(115, 50, 180)
        info.callback()
    end)
end

for i, info in ipairs(buttons) do
    createButton(info, i)
end

logoButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Drag hareketi
local dragging = false
local dragInput
local dragStart
local startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)
